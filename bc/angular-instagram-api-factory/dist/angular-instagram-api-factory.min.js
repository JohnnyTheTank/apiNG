
/*! angular-instagram-api-factory 17-11-2015 */
"use strict";angular.module("jtt_instagram",[]).factory("instagramFactory",["$http","instagramSearchDataService",function(a,b){var c={};return c.getUserById=function(c){var d=b.getNew("userById",c);return a.jsonp(d.url,{method:"GET",params:d.object})},c.getPostsFromUserById=function(c){var d=b.getNew("postsFromUserById",c);return a.jsonp(d.url,{method:"GET",params:d.object})},c.getPostsByTag=function(c){var d=b.getNew("postsByTag",c);return a.jsonp(d.url,{method:"GET",params:d.object})},c}]).service("instagramSearchDataService",function(){this.getApiBaseUrl=function(a){return"https://api.instagram.com/v1/"},this.fillDataInObjectByList=function(a,b,c){return angular.forEach(c,function(c,d){"undefined"!=typeof b[c]&&(a.object[c]=b[c])}),a},this.getNew=function(a,b){var c={object:{},url:""};switch(c.object={access_token:b.access_token,client_id:b.client_id,callback:"JSON_CALLBACK"},a){case"userById":c.url=this.getApiBaseUrl()+"users/"+b.userId;break;case"postsFromUserById":c.object.count=b.count||20,c=this.fillDataInObjectByList(c,b,["max_id","min_id","min_timestamp","max_timestamp"]),c.url=this.getApiBaseUrl()+"users/"+b.userId+"/media/recent";break;case"postsByTag":c.object.count=b.count||20,c=this.fillDataInObjectByList(c,b,["max_tag_id","min_tag_id","min_timestamp","max_timestamp"]),c.url=this.getApiBaseUrl()+"tags/"+b.tag+"/media/recent"}return c}});